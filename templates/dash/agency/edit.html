{% extends "dash/_layout.html" %}
{% block sidebar %}{% include "dash/_sidebar_owner.html" with active="mijn" %}{% endblock %}
{% block dash_content %}
<h1 class="mb-3">Woning bewerken</h1>
<form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
  {% csrf_token %}
  {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Basis</div>
    <div class="card-body row g-3">
      <div class="col-md-8">{{ form.title.label_tag }} {{ form.title }}</div>
      <div class="col-md-4">{{ form.property_type.label_tag }} {{ form.property_type }}</div>
      <div class="col-md-4">{{ form.listing_kind.label_tag }} {{ form.listing_kind }}</div>
      <div class="col-md-4"><label class="form-label">Prijs (€)</label><div class="input-group"><span class="input-group-text">€</span>{{ form.price }}</div></div>
    </div>
  </div>

  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Adres</div>
    <div class="card-body row g-3">
      <div class="col-md-8">{{ form.address.label_tag }} {{ form.address }}</div>
      <div class="col-md-2">{{ form.postcode.label_tag }} {{ form.postcode }}</div>
      <div class="col-md-2">{{ form.city.label_tag }} {{ form.city }}</div>
      <div class="col-md-4">{{ form.province.label_tag }} {{ form.province }}</div>
    </div>
  </div>

  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Kengetallen</div>
    <div class="card-body row g-3">
      <div class="col-md-3">{{ form.living_area.label_tag }} {{ form.living_area }}</div>
      <div class="col-md-3">{{ form.rooms.label_tag }} {{ form.rooms }}</div>
      <div class="col-md-3">{{ form.bedrooms.label_tag }} {{ form.bedrooms }}</div>
      <div class="col-md-3">{{ form.bathrooms.label_tag }} {{ form.bathrooms }}</div>
      <div class="col-md-3">{{ form.floors.label_tag }} {{ form.floors }}</div>
      <div class="col-md-3">{{ form.lot_area.label_tag }} {{ form.lot_area }}</div>
      <div class="col-md-3">{{ form.build_year.label_tag }} {{ form.build_year }}</div>
      <div class="col-md-3">{{ form.energy_label.label_tag }} {{ form.energy_label }}</div>
    </div>
  </div>

  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Voorzieningen</div>
    <div class="card-body row g-2">
      <div class="col-6 col-md-3 form-check">{{ form.garden }} <label class="form-check-label ms-1">{{ form.garden.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.balcony }} <label class="form-check-label ms-1">{{ form.balcony.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.terrace }} <label class="form-check-label ms-1">{{ form.terrace.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.roof_terrace }} <label class="form-check-label ms-1">{{ form.roof_terrace.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.storage }} <label class="form-check-label ms-1">{{ form.storage.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.shed }} <label class="form-check-label ms-1">{{ form.shed.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.parking_garage }} <label class="form-check-label ms-1">{{ form.parking_garage.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.parking_spot }} <label class="form-check-label ms-1">{{ form.parking_spot.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.elevator }} <label class="form-check-label ms-1">{{ form.elevator.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.wheelchair_accessible }} <label class="form-check-label ms-1">{{ form.wheelchair_accessible.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.new_build }} <label class="form-check-label ms-1">{{ form.new_build.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.solar_panels }} <label class="form-check-label ms-1">{{ form.solar_panels.label }}</label></div>
      <div class="col-6 col-md-3 form-check">{{ form.heat_pump }} <label class="form-check-label ms-1">{{ form.heat_pump.label }}</label></div>
    </div>
  </div>

  
  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Foto's</div>
    <div class="card-body">
      {% if obj.images.all %}
        <div class="row g-2 mb-3">
          {% for img in obj.images.all %}
            <div class="col-6 col-md-3">
              <div class="ratio ratio-4x3 border rounded overflow-hidden">
                <img src="{{ img.image.url }}" alt="Foto" class="w-100 h-100 object-fit-cover">
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
      <div class="row g-3">
        <div class="col-md-6">
          {{ form.new_cover.label_tag }} {{ form.new_cover }}
        </div>
        <div class="col-md-6">
          {{ form.new_gallery.label_tag }} {{ form.new_gallery }}
        </div>
      </div>
      <div class="form-text">Je kunt meerdere afbeeldingen selecteren bij de galerij.</div>
    </div>
  </div>

  <div class="card mb-3 shadow-sm">
    <div class="card-header fw-bold">Beschrijving</div>
    <div class="card-body">{{ form.description }}</div>
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-primary" type="submit">Opslaan</button>
    <a class="btn btn-outline-secondary" href="{% url 'owner_my' %}">Annuleren</a>
  </div>
</form>
{% endblock %}
